document.addEventListener("DOMContentLoaded", () => {
    const items = document.querySelectorAll(".carousel-item");
    const dotsContainer = document.getElementById("navigation-dots");
    let currentIndex = 0;

    // CrÃ©e les puces de navigation
    items.forEach((_, index) => {
        const dot = document.createElement("div");
        if (index === 0) dot.classList.add("active");
        dotsContainer.appendChild(dot);
    });

    const dots = dotsContainer.querySelectorAll("div");

    // Fonction pour mettre Ã  jour les sections
    const updateCarousel = () => {
        items.forEach((item, index) => {
            item.classList.remove("active", "prev", "next");
            dots[index].classList.remove("active");

            if (index === currentIndex) {
                item.classList.add("active");
                dots[index].classList.add("active");
            } else if (index === (currentIndex - 1 + items.length) % items.length) {
                item.classList.add("prev");
            } else if (index === (currentIndex + 1) % items.length) {
                item.classList.add("next");
            }
        });
    };

    // GÃ¨re le dÃ©filement avec la molette
    let isScrolling = false;

    window.addEventListener("wheel", (event) => {
        if (isScrolling) return;

        isScrolling = true;
        setTimeout(() => (isScrolling = false), 500);

        if (event.deltaY > 0) {
            // Scroll vers le bas
            currentIndex = (currentIndex + 1) % items.length;
        } else {
            // Scroll vers le haut
            currentIndex = (currentIndex - 1 + items.length) % items.length;
        }

        updateCarousel();
    });

    updateCarousel();
});

const modeToggle = document.getElementById("mode-toggle");
const body = document.body;
// Change l'icÃ´ne ou le texte du bouton en fonction du mode
modeToggle.addEventListener("click", () => {
    body.classList.toggle("dark-mode");
    
    // Changer l'icÃ´ne du bouton
    if (body.classList.contains("dark-mode")) {
        modeToggle.textContent = "ðŸŒž";  // IcÃ´ne de soleil pour passer au mode clair
    } else {
        modeToggle.textContent = "ðŸŒ™";  // IcÃ´ne de lune pour passer au mode sombre
    }
});

const languageSwitcher = document.getElementById('language-switcher');

// Texte en franÃ§ais et anglais
const translations = {
    en: {
        language: "FranÃ§ais",
        cv:"My Curriculum",
        projet:"Achievements",
        sectionN1: "About my career",
        section1: "I'm an 18-year-old first-year student in a Mathematics and Computer Science program. I graduated with a French â€œBaccalaurÃ©at GÃ©nÃ©ralâ€œ, specializing in Mathematics and Computer Science, with an advanced math option. I currently live in the suburbs of Paris, just 25 minutes away from the city center.",
        sectionN2: "Who I am",
        section2: "I am a curious and driven student, always looking to learn or deepen new skills. I put my full effort into the tasks I undertake and place great importance on seeing things through to completion.",
        sectionN3: "What I Enjoy Doing",
        section3: "I enjoy cooking for my family and myself, exploring the art of mixology by creating various cocktails, developing IT projects, listening to music, playing the piano, trying my hand at photography and cinematography, and constantly learning new things, both theoretical and practical.",
        sectionN4: "My experiences",
        section4: "I have completed two separate internships (a total of one month) at the same organization in the field of collective catering. I have also taught computer science classes. In 2025, I plan to work for two months in the restaurant industry.",
        sectionN5: "Contact me",
        section5: "Send me a message at:",
        email:"My mail adress"
        // Ajoute ici d'autres traductions en anglais
    },
    fr: {
        language: "English",
        cv:"Mon CV",
        projet:"RÃ©alisations",
        sectionN1: "Ã€ propos de mes Ã©tudes",
        section1: "Je suis Ã©tudiant en premiÃ¨re annÃ©e de licence MathÃ©matiques/Informatique, Ã¢gÃ© de 18 ans. J'ai obtenu un BaccalaurÃ©at GÃ©nÃ©ral avec les spÃ©cialitÃ©s MathÃ©matiques, NSI, et l'option MathÃ©matiques expertes. Actuellement, je rÃ©side dans la banlieue parisienne, Ã  seulement 25 minutes du centre de Paris.",
        sectionN2: "Qui je suis",
        section2: "Je suis un Ã©tudiant curieux et motivÃ©, toujours Ã  la recherche de nouvelles compÃ©tences Ã  apprendre ou Ã  approfondir. Je m'investis pleinement dans les tÃ¢ches que j'entreprends et j'accorde une grande importance Ã  aller au bout de ce que je commence.",
        sectionN3: "Ce que j'aime faire",
        section3: "J'aime cuisiner pour ma famille et moi-mÃªme, explorer l'art de la mixologie en crÃ©ant diffÃ©rents cocktails, dÃ©velopper des projets en informatique, Ã©couter de la musique, jouer du piano, m'essayer Ã  la photographie et Ã  la cinÃ©matographie, et apprendre constamment de nouvelles choses, tant sur le plan thÃ©orique que pratique.",
        sectionN4: "Mes expÃ©riences",
        section4: "J'ai effectuÃ© deux stages distincts (pour un total d'un mois) au sein d'un mÃªme Ã©tablissement, dans le domaine de la restauration collective. J'ai Ã©galement donnÃ© des cours en informatique. En 2025, je prÃ©vois de travailler pendant deux mois dans le secteur de la restauration.",
        sectionN5: "Me contacter",
        section5: "Envoyez-moi un message Ã  : ",
        email:"Mon adresse mail"
    }
};

// Langue par dÃ©faut
let currentLanguage = 'fr';

function translatePage(lang) {
    document.querySelectorAll("[data-key]").forEach(element => {
        const key = element.getAttribute("data-key");
        if (key && translations[lang][key]) {
            element.textContent = translations[lang][key];
        }
    });
}

languageSwitcher.addEventListener('click', () => {
    // Alterne entre 'fr' et 'en'
    currentLanguage = currentLanguage === 'fr' ? 'en' : 'fr';
    translatePage(currentLanguage)
});


// RÃ©cupÃ¨re la langue sauvegardÃ©e au chargement
currentLanguage = localStorage.getItem('language') || 'fr';
languageSwitcher.textContent = translations[currentLanguage].language;

// Sauvegarde la langue sÃ©lectionnÃ©e
languageSwitcher.addEventListener('click', () => {
    localStorage.setItem('language', currentLanguage);
});